% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/makeCountMatrix.R
\name{makeCountMatrix}
\alias{makeCountMatrix}
\title{Generate a Matrix of Smoothed Read Counts Across Genomic Regions}
\usage{
makeCountMatrix(
  bamPath =
    "../2024Dec30_siTICRRonMTBP_CutRun/ReplicatePeakAnalyzer/results/mergedDownSampledBams/controlMTBP_in.bam",
  Ranges = CombinedRanges,
  plottingRange = 4001,
  windowSize = 150,
  stepSize = 5,
  coreCount = 8,
  chromosomes = allowedChromosomes
)
}
\arguments{
\item{bamPath}{Character. Path to the input BAM file.}

\item{Ranges}{A \code{GRanges} object representing the genomic regions of interest.}

\item{plottingRange}{Integer. Total width to which each region should be resized (default: 4001).}

\item{windowSize}{Integer. Width of the smoothing window (default: 150).}

\item{stepSize}{Integer. Step size for signal binning (default: 5).}

\item{coreCount}{Integer. Number of parallel processes to use (default: 8).}

\item{chromosomes}{Character vector of chromosome names to include (default: \code{allowedChromosomes}).}
}
\value{
A numeric matrix where rows represent bins within each genomic region and columns represent regions.
}
\description{
This function creates a count matrix representing read density across a set of genomic ranges,
smoothed using a rolling sum within each chromosome. It is primarily used to generate signal
profiles (e.g., for metaplots or heatmaps) from BAM files using midpoint-aligned paired-end reads.
}
\details{
Each region in \code{Ranges} is resized to \code{plottingRange} bp centered on its midpoint.
Reads are binned using \code{stepSize}, and the signal is smoothed using a rolling window
of width \code{windowSize / stepSize}.
}
\examples{
\dontrun{
gr <- GRanges("chr1", IRanges(start = c(100000, 200000), width = 4001))
mat <- makeCountMatrix("mydata.bam", gr)
}
}
